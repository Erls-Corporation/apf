<html>
 <head>
     <!--meta http-equiv='X-UA-Compatible' content='IE=EmulateIE7'/-->
    <script LANGUAGE="JavaScript" type="text/javascript" src="apf_stub.js"></script>
    <script LANGUAGE="JavaScript" type="text/javascript" src="../core/lib/util/color.js"></script>
    <script LANGUAGE="JavaScript" type="text/javascript" src="../core/parsers/livemarkup.js"></script>
    <script LANGUAGE="JavaScript" type="text/javascript" src="../core/lib/vector.js"></script>
       
    <script LANGUAGE="JavaScript" type="text/javascript">
    
    function draw(){
        var ctx = new apf.vector.vml('drawnode',400,300,0,0,'white');
        // lets add a new group to to our root group
        var g = ctx.group({x:0,y:0,w:400,h:400});
        var r = [];
        var i ;
        for(i = 0;i<600;i++)
            r[i] = ctx.rect({x:i*16,y:i*1,w:50,h:20,so:0.1,o:0.5,sw:1,s:'blue', f:'red'},g);
        
        //lets check our ctx root
        ctx.repaint();
        var t = 0;
        window.setInterval(function(){
            g.style({r2:t/4})
            t = t + 4;
            for(i=0;i<600;i++)
                r[i].style({/*f:i%1?'blue':'red',*/x:(i*16+t)%400,w:Math.sin(t/100+i/5)*40});
            ctx.repaint();
        },40);
    }

  </script>

 </head>
 <body onload="draw()">
    <div id="drawnode" style2="width:300px;height:300px;background-color:black">
    </div>
 </body>
 
	

 </html>
