<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:a="http://ajax.org/2005/aml" xmlns="http://www.w3.org/1999/xhtml">
    <head>
	<meta http-equiv="X-UA-Compatible" content="IE=7" />
	<script>var initpage = 1;</script> 
    <script src="../apf.js"></script>
    <script src="../loader.js"></script>
    <script src="presentation2.js"></script>
	<style type="text/css">
		h1 {
			display: block;
			width: 600px;
			margin-top: 170px;
			margin-left: 120px;
			color : white;
			font-family: arial;
			font-size: 40px;
		}
		ul {
			list-style-type: disc;
		}
		li {
			width: 800px;
			margin-top: 35px;
			margin-left: 100px;
			color : white;
			font-family: arial;
			font-size: 30px;
		}
		.mainbg{
			background:#0a5ea1 url('main.gif') no-repeat 0 0;
			display:block;
			width: 1024px;
			height:768px;
		}
		.pagebg{
			background:#0a5ea1 url('bg1.gif') no-repeat 0 0;
			display:block;
			position:absolute;
			width: 1024px;
			height:768px;
		}
		HTML,BODY{
			margin: 0;
			overflow:hidden;
			color: white;
			font-family: arial;
			font-size: 20px;
		}
		.lb{
			position:absolute;
			left:30px;
			bottom:30px;
		}
		.rb{
			position:absolute;
			right:30px;
			bottom:30px;
		}
		pre{
			font-size: 24px;
			font-weight:bold;
		}
		</style>	
    </head> 
    <body style="background-color:#0a5ea1;display:none">
		<a:skin   
		  src        = "../../../skins/platform/trunk/xml/skins.xml" 
		  icon-path  = "../../../skins/platform/trunk/icons/" 
		  media-path = "../../../skins/platform/trunk/images/"></a:skin>   	
		<a:chart id='demochart' width="200" height="100" anim="50" zindex="100" left="800" top="50">
			<a:axis 
			  mode       = "3D" 
			  x1         = "-3" 
			  y1         = "-1" 
			  x2         = "3"  
			  y2         = "0.5" 
			  z1         = "-3" 
			  z2         = "3" 
			  x3d        = "2" 
			  y3d        = "0.5" 
			  z3d        = "2"
			  lockyzoom  = "1" 
			  orbity     = "0.2" 
			  distance   = "3.5"
			  orbitxanim = "0.01"
			  style2      = "
				bar{fill:null;stroke:null;}
				label{color:white;};
				plane{fill:null;}
				
				tick{stroke:white}
				axis{stroke:white;side1:1;side2:1;}
				planexz{stroke:white;fill:gray;fillopacity:0.2;oneside:1;side:0}
				hbarxz{oneside:1;side:0;stroke:white;opacity:0.5}
				vbarxz{oneside:1;side:0;stroke:white;opacity:0.5}
			  "
			  			  style     = "
				bar{fill:null;stroke:null;}
				label{color:null;family:null};
				plane{fill:null;}
				tick{stroke:null}
				bar{stroke:null;fill:null;}
				tile{stroke:null}
				axis{stroke:null;side1:1;side2:1;}
				planexz{stroke:white;fill:null;fillopacity:0.2;oneside:1;side:0}
				hbarxz{oneside:1;side:0;stroke:white;opacity:0.5}
				vbarxz{oneside:1;side:0;stroke:white;opacity:0.5}
			  ">
				<a:graph 
				  mode      = "height" 
				  dataslice = "1XZ"
				  steps     = "9" 
				  formula   = "2*sin((__e=sqrt(x*x+z*z)*2)-2*n)/(__e+0.3)"
				  style     = "
					graph {
					  fill:#f1d309;
					  single:1;
					  fillopacity:0.3;
					  strokeopacity:0.5;
					  weight:0.3;
					  stroke:#f1d309;
					}
				  ">
				</a:graph>
			</a:axis>
		</a:chart>
        <a:pages id="pgPres" activepage='1' width="1024" height="768">
            <a:page class="main">
                <div id = 'pg0' class='mainbg'>
					<div class="lb">
						Rik Arends <br/>
						email: rik@javeline.com
					</div>
					<div class="rb">
						www.ajax.org <br/>
						twitter: @ajax_org
					</div>
				</div>
            </a:page>
			<a:page class="main">
                <div  class='mainbg' ondblclick="zoomchart.oExt.style.left=0;zoomchart.oExt.style.top=0;zoomchart.oExt.style.width = 1024;zoomchart.oExt.style.height = 768;zoomchart.$redraw(1,true);"
				>			
				   <a:chart id="zoomchart" width="280" height="281" left="368" top="263" margin="0 0 0 0" >
						<a:axis id="chartaxis33" mode="2D" distance="3" scaleyzoom="0.5" x1="0" y1="0" x2="7" y2="0.3" x3d="4"
						  style=" 
							margin{left:0; top:0; right:0; bottom:0}
							axis{fill:null;stroke:null}
							bar{fill:null;stroke:null}
							plane{fill:#0a5ea1;stroke:#39a1d6}; 
							tiles{fill:null;stroke:null};
							label{family:null} 
							tick{stroke:null;fill:null;}
						  ">
							<a:graph smartbinding="sbZoomChart" model='mdlZoomChart' dataslice="1XM"
								 mipstep='2' mipset='max' mipthres='400' mipmin="1"
								 style="
									graph{
										stroke:null;  
										fill:#39a1d6;
										weight:1;     
									}"   
								 id="graph1" mode="line"></a:graph>
								 
							<a:graph smartbinding="sbZoomChart" model='mdlZoomChart' dataslice="1XM"
								 mipstep='2' mipset='avg' mipthres='200' mipmin="1"
								 style="
									graph{
										stroke:#f9f9f9;
										weight:1.5;
										fill:null;
										opacity:1; 
										scale:_div*0.5,1;
										offset:0,0;
									}"
								 id="graph2" mode="line"></a:graph>
								 
							<a:graph smartbinding="sbZoomChart" model='mdlZoomChart' dataslice="1XM"
								 mipstep='2' mipset='min' mipthres='200' mipmin="1"
								 style="
									graph{
										stroke:null;
										fill:#e3e3e3;
										weight:1;
									}" 
								 id="graph3" mode="line"></a:graph>
								 
							<a:graph smartbinding="sbZoomChart" model='mdlZoomChart' dataslice="1XM"
								 mipstep='2' mipset='avg' mipthres='200' mipmax="2"
								 style="
									graph{
										stroke:white;
										weight:1;
										fill:#e3e3e3; 
										opacity:1;
										scale:_div*0.75,1;
										offset:0,0;
									}"
								 id="graph4" mode="bar"></a:graph>

						</a:axis>
					</a:chart>
					<a:model id="mdlZoomChart">
						<data><series>1</series></data>
					</a:model>    
					<a:smartbinding id="sbZoomChart">
						<a:bindings> 
							<a:series 
							  formula   = "abs(1.5*(t+=random()*0.1-0.05)+0.5*sin(v*0.1))" 
							  length    = "64000" 
							  select    = "series/text()" 
							  delimiter = " " 
							  split     = "," 
							  css       = "#" />
						</a:bindings>
					</a:smartbinding>
				</div>
            </a:page>
            <a:page>
			
                <div id = 'pg1' class='pagebg'>
					<h1> Ajax.org Platform</h1>
					<ul>
						<li>Fully LGPL-ed open source 
						Web Application Framework</li>
						<li>Free to use, also for <strong>commercial</strong> projects</li>
					</ul>
				</div>
				
            </a:page>
            <a:page>
                <div id = 'pg2' class='pagebg'>
					<h1>How do you use it</h1>
					<ul>
						<li>Use markup</li>
						<pre>
		&lt;a:chart &gt;
			&lt;a:axis mode="2D"&gt;
				&lt;a:graph mode="line" formula="sin(x)" /&gt;
			&lt;/a:axis&gt;
		&lt;/a:chart&gt;
						</pre>
					</ul>
					 <a:chart id="strokeChart" width="500" height="180" anim="10" left="140" top="550" >
							<a:axis mode="2D"
							  x1="-2" y1="-3" x2="6" y2="3"
							  style="
							  label{color:white;}
							  axis{stroke:white}
							  tick{stroke:white}
							  plane{fill:null;stroke:null};
							  tiles{fill:null;stroke:gray;opacity:0.5;};
							  margin{left:0;top:0;right:0;bottom:0}
							  layout{onaxisx:1;onaxisy:1;}
							  ">
								<a:graph mode="line" dataslice="1X" steps="300"
								  formula="sin(3x)+cos(x+2n)"
								  style="
									 graph{fill:null;stroke:white;weight:3;fillopacity:0.5;fillout:1;}
								  "
								  ></a:graph>
								
							  </a:axis>
						 </a:chart>
				</div>
            </a:page>
            <a:page>
                <div id='pg3' class='pagebg'>
					<h1>How to feed the chart data</h1>
					<ul>
						<li>Formula</li>
						<pre>		formula="sin(x+n)"</pre>
						<li>Inline data</li>
						<pre>		series="1 2 3 4 1 2 3"</pre>
					</ul>
					
<a:chart id="barChart" width="600" height="280" left="100" top="430" anim="10" a="1">
                <a:axis mode="{ddDim.value}"
          x1="0" y1="-0.1" x2="31" y2="1.5"
          style="
            plane{fill:null;stroke:null};
            tiles{fill:null;stroke:null;};
          ">
            <a:graph mode="bar" dataslice="1X" 
              series="0.1#a 0.4#b 0.3#c 0.7#d 0.1#a 0.6#b 0.2#c 0.6#d 0.5#a 0.9#b 1#c 0.9#d 0.4#a 0.3#b 0.7#c 0.3#d 0.6#a 0.2#b 0.8#c 0.5#d 0.9#a 1#b 0.1#c 0.4#d 0.3#a 0.7#b 0.1#c 0.6#d 0.2#a 0.1#b 0.5#c 0.9#d 1#a"
              style="
              graph.a{fill:#FFD900}
              graph.b{fill:#FFE240}
              graph.c{fill:#FFEA73}
              graph.d{fill:#A86D00}
              graph{fill:yellow;notransit:1;stroke:black;scale:1*a,1*a;}
              graph:hoverin{
                 speed:4;
                 fill:yellow;
                 stroke:yellow;
                 weight:t;
                 strokeopacity:0.7*t;
                 overlay:base;
                 opacity:easein(t);
                 scale:1+easein(nt),1+easein(nt);
              }
              graph:hover{
                 fill:yellow;
                 weight:1;
                 stroke:yellow;
                 strokeopacity:0.9;
              }
              graph:hoverout{
                 speed:1;
                 stroke:#ffc54f;
                 fill:yellow;
                 overlay:base;
                 opacity:0.5;
                 offset:0,t;
                 scale:nt,nt;
              }">
            </a:graph>
        </a:axis>
        </a:chart>					
					
				</div>
            </a:page>		
            <a:page>
                <div class='pagebg'>
					<h1>Remote Datasources</h1>
					<ul>
						<li>Remote XML data</li>
						<pre>		&lt;a:graph mode="line" traverse="[point]" 
			x="[@x]" model="{rpc.XmlData()}"/></pre>
						<li>Data</li>
						<pre>		&lt;series>
			&lt;pt x='1'/>
			&lt;pt x='2'/>
		&lt;/series></pre>
						<li>Remote CSV data</li>
						<pre>		series="{rpc.Data().split(',')}"</pre>
					</ul>
				</div>
            </a:page>		
            <a:page>
                <div class='pagebg'>
					<h1>Streaming data</h1>
					<ul>
						<li>Currently precalc based on single set</li>
						<li>Architected for data streaming to visualize large data sets</li>
					</ul>
 <a:chart id="zoomchart"  width="600" height="280" left="100" top="430" >
						<a:axis id="chartaxis33" mode="2D" distance="3" scaleyzoom="0.5" x1="0" y1="0" x2="16000" y2="30" x3d="4"
						  style=" 
							margin{left:0; top:0; right:0; bottom:0}
							axis{fill:null;stroke:null}
							bar{fill:null;stroke:null}
							plane{fill:#0a5ea1;stroke:#39a1d6}; 
							tiles{fill:null;stroke:null};
							label{family:null} 
							tick{stroke:null;fill:null;}
						  ">
							<a:graph smartbinding="sbZoomChart" model='mdlZoomChart' dataslice="1XM"
								 mipstep='2' mipset='max' mipthres='400' mipmin="1"
								 style="
									graph{
										stroke:null;  
										fill:#39a1d6;
										weight:1;     
									}"   
								 id="graph1" mode="line"></a:graph>
								 
							<a:graph smartbinding="sbZoomChart" model='mdlZoomChart' dataslice="1XM"
								 mipstep='2' mipset='avg' mipthres='200' mipmin="1"
								 style="
									graph{
										stroke:#f9f9f9;
										weight:1.5;
										fill:null;
										opacity:1; 
										scale:_div*0.5,1;
										offset:0,0;
									}"
								 id="graph2" mode="line"></a:graph>
								 
							<a:graph smartbinding="sbZoomChart" model='mdlZoomChart' dataslice="1XM"
								 mipstep='2' mipset='min' mipthres='200' mipmin="1"
								 style="
									graph{
										stroke:null;
										fill:#e3e3e3;
										weight:1;
									}" 
								 id="graph3" mode="line"></a:graph>
								 
							<a:graph smartbinding="sbZoomChart" model='mdlZoomChart' dataslice="1XM"
								 mipstep='2' mipset='avg' mipthres='200' mipmax="2"
								 style="
									graph{
										stroke:white;
										weight:1;
										fill:#e3e3e3; 
										opacity:1;
										scale:_div*0.75,1;
										offset:0,0;
									}"
								 id="graph4" mode="bar"></a:graph>

						</a:axis>
					</a:chart>
				</div>
            </a:page>		
            <a:page>
                <div class='pagebg'>
					<h1>How to style the chart?</h1>
					<ul>
						<li>CSS with transitions</li>
						<li>Assign classes to series elements</li>
					</ul>
<a:chart id="pieChart" width="600" height="280" left="100" top="340" anim="100">
						<a:axis mode="2D"
								x1="-0.15" y1="-0.2" x2="3.35" y2="1.4"
								style="
								plane{fill:null;stroke:null;}
								tiles{fill:null}
								
								margin{left:0;top:0;right:0;bottom:0}
								axis{stroke:null;}
								label{family:null;}
								tick{stroke:null}
								"
								>
								<a:graph mode="pie" dataslice="1X"
									 series="0.1#a 0.2#b 0.24#c 0.7#d 0.9#a 1.6#b 1.7#c"
									 style="
									 graph.a{fill:#FFD900}
									 graph.b{fill:#FFE240}
									 graph.c{fill:#FFEA73}
									 graph.d{fill:#A86D00}
									 graph{fill:yellow;stroke:black;strokeopacity:0.2;notransit:1;}
									 graph:hoverin{
										speed:4;
										offset:0,0.3*easeout(t);
									 }
									 graph:hover{
										offset:0,0.3;
									 }
									 graph:hoverout{
										speed:1;
										offset:0,0.3*abs(cos(t*t*8))*nt;
									 }"
									 ></a:graph>
						<a:graph mode="pie" dataslice="1X"
								 series="0.1#a 0.2#b 0.24#c 0.7#d 0.9#a 1.6#b 1.7#c"
								 style="
								 margin{left:1.1;}
								 graph.a{fill:#5C0DAC}
								 graph.b{fill:#542881}
								 graph.c{fill:#390470}
								 graph.d{fill:#8B41D6}
								 graph{fill:yellow;stroke:black;strokeopacity:0.2;notransit:1;}
								 graph:hoverin{
									speed:4;
									fill:yellow;
									stroke:yellow;
									weight:t;
									strokeopacity:0.7*t;
									overlay:base;
									opacity:easein(t);
									scale:1+easein(nt),1+easein(nt);
								 }
								 graph:hover{
									fill:yellow;
									weight:1;
									stroke:yellow;
									strokeopacity:0.9;
								 }
								 graph:hoverout{
									speed:1;
									stroke:#ffc54f;
									fill:yellow;
									overlay:base;
									opacity:0.5;
									offset:0,t;
									scale:nt,nt;
								 }"
							></a:graph>
						<a:graph mode="pie" dataslice="1X"
								 series="0.1#a 0.2#b 0.24#c 0.7#d 0.9#a 1.6#b 1.7#c"
								 style="
								 margin{left:2.2;}
								 graph.a{fill:#58E000}
								 graph.b{fill:#5CA82A}
								 graph.c{fill:#399200}
								 graph.d{fill:#83F03C}

								 graph{fill:yellow;stroke:black;strokeopacity:0.2;notransit:1;}
								 graph:hoverin{
									speed:4;
									offset:0.1*sin(t*t*16)*nt,0.3*easeout(t);
								 }
								 graph:hover{
									offset:0,0.3;
								 }
								 graph:hoverout{
									speed:1;
									offset:0.1*sin(t*t*16)*nt,0.3*abs(cos(t*t*16))*nt;
								 }"
							></a:graph>
						</a:axis>
					 </a:chart>
				</div>
            </a:page>		
            <a:page>
                <div class='pagebg'>
					<h1>Why CSS?</h1>
					<ul>
						<li>Standard styling method in browser</li>
						<li>Compact and powerful</li>
						<li>Separates style from markup and code</li>
					</ul>

				</div>
            </a:page>		
            <a:page>
                <div class='pagebg'>
					<h1>Basics</h1>
					<ul>
						<li>shape element:</li>
						<pre>
		graph{
			fill: red;
			stroke: white;
			weight: 20; 
		}
		graph{
			fill: red green blue;
			angle: 90;
		}
						</pre>
					</ul>

				</div>
            </a:page>		
            <a:page>
                <div class='pagebg'>
					<h1>Elements to style</h1>
					<ul>
						<li>Axis </li>
						<li>Grid</li>
						<li>Ticks</li>
						<li>Graph</li>
						<li>Series element classes</li>
						<li>etc.</li>
					</ul>
				</div>
							 <a:chart id="strokeChart" width="500" height="280" anim="10" left="460" top="220" >
								<a:axis mode="2D"
								  x1="-2" y1="-3" x2="6" y2="3"
								  style="
								  label{color:white;}
								  axis{stroke:white}
								  tick{stroke:white}
								  plane{fill:null;stroke:null};
								  tiles{fill:null;stroke:gray;opacity:0.5;};
								  margin{left:0;top:0;right:0;bottom:0}
								  layout{onaxisx:1;onaxisy:1;}
								  ">
									<a:graph mode="line" dataslice="1X" steps="300"
									  formula="sin(x*(1+a)+(1+a)*cos(x-2*n)*(1+a)+n)*cos(2*x+n)*2"
									  style="
										 graph{fill:blue;weight:1;fillopacity:0.5;fillout:1;stroke:black;}
									  "
									  ></a:graph>
									<a:graph mode="line" dataslice="1X" steps="300"
									  formula="sin(2*x*(1+a)-cos(x+n)*(1+3*a)-2*n)*cos(x+n)"
									  style="
										 graph{fill:white;weight:1;fillopacity:0.5;fillout:1;stroke:black;}
									  "
									  ></a:graph>
								  </a:axis>
							 </a:chart>
								
				
            </a:page>
			<a:page>
                <div class='pagebg'>
					<h1>Transitions </h1>
					<ul>
						<li>Currently implemented with transitional states</li>
						<ul>
							<li>hover-in</li>
							<li>hover-out</li>
							<li>select</li>
							<li>deselect</li>
						</ul>
					</ul>
<a:chart id="pieChart" width="500" height="480" left="250" top="250" anim="100">
						<a:axis mode="2D"
								x1="1.5" y1="-0.2" x2="3.35" y2="1.4"
								style="
								plane{fill:null;stroke:null;}
								tiles{fill:null}
								
								margin{left:0;top:0;right:0;bottom:0}
								axis{stroke:null;}
								label{family:null;}
								tick{stroke:null}
								"
								>
								<a:graph mode="pie" dataslice="1X"
									 series="0.1#a 0.2#b 0.24#c 0.7#d 0.9#a 1.6#b 1.7#c"
									 style="
									 graph.a{fill:#FFD900}
									 graph.b{fill:#FFE240}
									 graph.c{fill:#FFEA73}
									 graph.d{fill:#A86D00}
									 graph{fill:yellow;stroke:black;strokeopacity:0.2;notransit:1;}
									 graph:hoverin{
										speed:4;
										offset:0,0.3*easeout(t);
									 }
									 graph:hover{
										offset:0,0.3;
									 }
									 graph:hoverout{
										speed:1;
										offset:0,0.3*abs(cos(t*t*8))*nt;
									 }"
									 ></a:graph>
						
						<a:graph mode="pie" dataslice="1X"
								 series="0.1#a 0.2#b 0.24#c 0.7#d 0.9#a 1.6#b 1.7#c"
								 style="
								 margin{left:2.2;}
								 graph.a{fill:#58E000}
								 graph.b{fill:#5CA82A}
								 graph.c{fill:#399200}
								 graph.d{fill:#83F03C}

								 graph{fill:yellow;stroke:black;strokeopacity:0.2;notransit:1;}
								 graph:hoverin{
									speed:4;
									offset:0.1*sin(t*t*16)*nt,0.3*easeout(t);
								 }
								 graph:hover{
									offset:0,0.3;
								 }
								 graph:hoverout{
									speed:1;
									offset:0.1*sin(t*t*16)*nt,0.3*abs(cos(t*t*16))*nt;
								 }"
							></a:graph>
						</a:axis>
					 </a:chart>					
					
				</div>
            </a:page>
			<a:page>
                <div class='pagebg'>
					<h1>Expression based animation with macros</h1>
					<ul>
						<li>shape element:</li>
						<pre>
		fill: blend(t,red,green,blue)
		offset: 0, 0.3*easeout(t);
		opacity: 1-t;
						</pre>
					</ul>
					
<a:chart id="strokeChart" width="400" height="300" left="350" top="350" anim="10">
					<a:axis mode="3D"
							x1="-8" y1="-2" x2="8" y2="6" z1="-6" z2="6" x3d='2'
							y3d='0.7' z3d='2'
							lockyzoom='1'
							orbity = "0.1"
							orbitxanim='0.01'
							distance="2"
							style="
								bar{fill:null;stroke:null;}
								label{color:white;scale:0.1;side1:0;side2:1;};
								plane{fill:null;}
								tick{stroke:white;scale:0.05;}
								axis{stroke:white;side1:1;side2:1;}
								plane{stroke:white;fill:null;side:0}
								hbar{stroke:white;opacity:0.25;side:0}
								vbar{stroke:white;opacity:0.25;side:0}
							"
							>
						<a:graph mode="line" dataslice="1XZ"
						  steps='100' formula2="sin(x+cos(x)-2*n)+cos(x+n)*(1-a)"
						  formula="sin(x*16*sin(0.1*n)+2*n)*0.5+cos(x*0.7+n)"
						  style="graph{fill:pali(0.2*n,red,white,blue);stroke:white;stroke:pali(0.2*n,red,white,blue);single:1;fillopacity:0.2;strokeopacity:0.3;zpos:-3;depth:4;}"
						></a:graph>

					</a:axis>
				 </a:chart>					
				</div>
            </a:page>
			<a:page>
                <div class='pagebg'>
					<h1>Property binding (Ajax.org platform)</h1>
<pre>
		&lt;a:dropdown id="ddDim">
			&lt;a:item>2D&lt;/a:item>
			&lt;a:item>3D&lt;/a:item>
		&lt;/a:dropdown>
		...
		&lt;a:graph mode="{ddDim.value}" .../>
</pre>

				 <a:dropdown id="ddDim" value="2D" left="500" top="460" zindex="10000000">
					<a:item>2D</a:item>
					<a:item>3D</a:item>
				 </a:dropdown>

		<a:chart id="barChart" width="600" height="280" left="100" top="430" anim="10" a="1">
                <a:axis mode="{ddDim.value}"
          x1="0" y1="-0.1" x2="31" y2="1.5"
          style="
            plane{fill:null;stroke:null};
            tiles{fill:null;stroke:null;};
          ">
            <a:graph mode="bar" dataslice="1X" 
              series="0.1#a 0.4#b 0.3#c 0.7#d 0.1#a 0.6#b 0.2#c 0.6#d 0.5#a 0.9#b 1#c 0.9#d 0.4#a 0.3#b 0.7#c 0.3#d 0.6#a 0.2#b 0.8#c 0.5#d 0.9#a 1#b 0.1#c 0.4#d 0.3#a 0.7#b 0.1#c 0.6#d 0.2#a 0.1#b 0.5#c 0.9#d 1#a"
              style="
              graph.a{fill:#FFD900}
              graph.b{fill:#FFE240}
              graph.c{fill:#FFEA73}
              graph.d{fill:#A86D00}
              graph{fill:yellow;notransit:1;stroke:black;scale:1*a,1*a;}
              graph:hoverin{
                 speed:4;
                 fill:yellow;
                 stroke:yellow;
                 weight:t;
                 strokeopacity:0.7*t;
                 overlay:base;
                 opacity:easein(t);
                 scale:1+easein(nt),1+easein(nt);
              }
              graph:hover{
                 fill:yellow;
                 weight:1;
                 stroke:yellow;
                 strokeopacity:0.9;
              }
              graph:hoverout{
                 speed:1;
                 stroke:#ffc54f;
                 fill:yellow;
                 overlay:base;
                 opacity:0.5;
                 offset:0,t;
                 scale:nt,nt;
              }">
            </a:graph>
        </a:axis>
        </a:chart>
				</div>
            </a:page>
			<a:page>
                <div class='pagebg'>
					<h1>What rendering technologies are used</h1>
					<ul>

						<li>VML for IE</li>
						<li>Canvas for the rest</li>
						
					</ul>
				</div>
            </a:page>
			<a:page>
                <div class='pagebg'>
					<h1>Why not SVG?</h1>
					<ul>
						<li>SVG is much slower in dynamic path rendering</li>
						
					</ul>
				</div>
            </a:page>
			<a:page>
                <div class='pagebg'>
					<h1>How to generalize both APIs</h1>
					<ul>
						<li>VML is DOM based</li>
						<li>Canvas is JS based </li>
						<li>No room for abstraction</li>
						
					</ul>
				</div>
            </a:page>
			<a:page>
                <div class='pagebg'>
					<h1>Solution: Metaprogramming</h1>
					<ul>

						<li>Javascript is a distant cousin of lisp</li>
						<li>Generating javascript with javascript</li>
						<li>Challenge: keep API's sensible</li>
					</ul>
				</div>
            </a:page>
			<a:page>
                <div class='pagebg'>
					<h1>Metaprogramming API</h1>
					<ul>
						<li>Canvas/OpenGL-like API with moveTo lineTo</li>
						<li>Style abstracted from drawing : CSS</li>
						<li>All API calls return strings, concatenated into single function.</li>
	
					</ul>
				</div>
            </a:page>
			<a:page>
                <div class='pagebg'>
					<h1>Example: Matrix calculations</h1>
					<ul>
						<li>Matrices can be concatenated</li>
						<li>Transform vector with series of matrix </li>
						<li>In API multiply matrices as algebraic string operation.</li>
					</ul>
				</div>
            </a:page>
			<a:page>
                <div class='pagebg'>
					<h1>Internal metaprogramming API</h1>
<pre>
        return [
		"var s3x=v.x3d/vw, s3xi=1/s3x,", 
			"s3y=v.y3d/vh, s3yi=1/s3y,", 
			"s3z=v.z3d/vd, s3zi=1/s3z;",
        e.sincos3('_m','v.rx','v.ry','v.rz'),
        e.setMatrix3D(
            e.matrixMul(
                e.matrix4T('(-0.5*vx1-0.5*vx2)','(-0.5*vy1-0.5*vy2)','(-0.5*vz1-0.5*vz2)'),
                e.matrix4S('s3x','s3y','s3z'),
                e.matrix4RP('_m'),
                e.matrix4T('v.tx','v.ty','v.tz'))
        )].join('');
</pre>
				</div>
            </a:page>
			<a:page>
                <div class='pagebg'>
					<h1>Generated Code (scary)</h1>
<pre>
		var s3x=v.x3d/vw,s3xi=1/s3x,s3y=v.y3d/vh,s3yi=1/s3y,s3z=v.z3d/vd,s3zi=1/s3z;
		var _mcx = __cos(v.rx),_msx = __sin(v.rx),_mcy = __cos(v.ry),
			_msy = __sin(v.ry),_mcz = __cos(v.rz),_msz = __sin(v.rz);
		var m00=_mcy*_mcz*s3x,m01=(-_msz*_mcy)*s3y,m02=_msy*s3z,
			m03=(_mcy*_mcz*s3x*(-0.5*vx1-0.5*vx2)+(-_msz*_mcy)*s3y*(-0.5*vy1-0.5*vy2)+_msy*s3z*(-0.5*vz1-0.5*vz2)+v.tx),
			m10=(_mcz*_msx*_msy+_msz*_mcx)*s3x,m11=(-_msx*_msy*_msz+_mcx*_mcz)*s3y,m12=(-_msx*_mcy)*s3z,m13=((_mcz*_msx*_msy+_msz*_mcx)*s3x*(-0.5*vx1-0.5*vx2)+(-_msx*_msy*_msz+_mcx*_mcz)*s3y*(-0.5*vy1-0.5*vy2)+(-_msx*_mcy)*s3z*(-0.5*vz1-0.5*vz2)+v.ty),m20=(-_mcx*_msy*_mcz+_msx*_msz)*s3x,m21=(_mcx*_msy*_msz+_mcz*_msx)*s3y,m22=(_mcx*_mcy)*s3z,m23=((-_mcx*_msy*_mcz+_msx*_msz)*s3x*(-0.5*vx1-0.5*vx2)+(_mcx*_msy*_msz+_mcz*_msx)*s3y*(-0.5*vy1-0.5*vy2)+(_mcx*_mcy)*s3z*(-0.5*vz1-0.5*vz2)+v.tz);
			
</pre>
				</div>
            </a:page>
			<a:page>
                <div class='pagebg'>
					<h1>Performance issues encountered:</h1>
					<ul>
<li>API overhead for canvas is huge</li>
<li>drawing many lines really shows vector performance</li>
<li>Many color drawing and z-order is expensive in VML</li>
<li>IE8 native mode has a several times perf drop in VML use</li>
<li>Chrome is fastest canvas implementation</li>
<li>Large fill-area charts in IE6 can beat Chrome</li>
					</ul>
				</div>
            </a:page>
			<a:page>
                <div id = 'pg7' class='pagebg'>
				<h1>Thank you</h1>
				<ul>
					<li>New chart engine will be in Apf 3.0</li>
					<li>Beta release next week</li>
					<li>Follow us on twitter @ajax_org</li>
					<li>Get involved!</li>
				</ul>
				</div>
            </a:page>			
			
        </a:pages>
        
        <a:menu id="mnuNav">
            <a:item onclick="goBack();event.cancelBubble = true;">Previous</a:item>
            <a:item onclick="goNext();event.cancelBubble = true;">Next</a:item>
        </a:menu>
    </body>
</html>